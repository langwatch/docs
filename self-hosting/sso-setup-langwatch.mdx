---
title: SSO
description: SSO Setup for LangWatch
keywords: [sso, hybrid, azure, auth0]
---

# Single Sign-On (SSO)

LangWatch supports sign-in via various SSO providers. There are two ways to set up SSO:

## 1. **Self-Hosted Deployment**:

Weâ€™ve set up the following providers for you.
If you'd prefer a different provider, feel free to reach out to us at [support@langwatch.ai](mailto:support@langwatch.ai).

For a complete list of possible supported providers, please refer to the [NextAuth.js documentation](https://next-auth.js.org/providers).

### Azure AD/Entra ID

ðŸ“„[NextAuth Azure AD Provider Docs](https://next-auth.js.org/providers/azure-ad)

| Configuration      | Value                                                                      |
| ------------------ | -------------------------------------------------------------------------- |
| Required Variables | `AZURE_AD_CLIENT_ID`<br/>`AZURE_AD_CLIENT_SECRET`<br/>`AZURE_AD_TENANT_ID` |
| OAuth Redirect URL | `/api/auth/callback/azure-ad`                                              |

Set `NEXTAUTH_PROVIDER` to `azure-ad` in your `.env` file.

<Note>
**Azure AD Configuration**: As of LangWatch version 1.4.0+, Azure AD authentication requires the `User.Read` permission to be granted in your Azure application registration. Make sure this permission is added to avoid authentication errors.
</Note>

### Okta

ðŸ“„ [Okta Docs](https://developer.okta.com/docs/reference/api/oidc)

| Configuration      | Value                                                         |
| ------------------ | ------------------------------------------------------------- |
| Required Variables | `OKTA_CLIENT_ID`<br />`OKTA_CLIENT_SECRET`<br />`OKTA_ISSUER` |
| OAuth Redirect URL | `/api/auth/callback/okta`                                     |

Set `NEXTAUTH_PROVIDER` to `okta` in your `.env` file.

### Auth0

ðŸ“„ [NextAuth Auth0 Provider Docs](https://next-auth.js.org/providers/auth0)

| Configuration      | Value                                                          |
| ------------------ | -------------------------------------------------------------- |
| Required Variables | `AUTH0_CLIENT_ID`<br/>`AUTH0_CLIENT_SECRET`<br/>`AUTH0_ISSUER` |
| OAuth Redirect URL | `/api/auth/callback/auth0`                                     |

Set `NEXTAUTH_PROVIDER` to `auth0` in your `.env` file.

### AWS Cognito

ðŸ“„ [NextAuth Cognito Provider Docs](https://next-auth.js.org/providers/cognito)

| Configuration          | Value                                                                |
| ---------------------- | -------------------------------------------------------------------- |
| Required ENV Variables | `COGNITO_CLIENT_ID`<br/>`COGNITO_CLIENT_SECRET`<br/>`COGNITO_ISSUER` |
| OAuth Redirect URL     | `/api/auth/callback/cognito`                                         |

Set `NEXTAUTH_PROVIDER` to `cognito` in your `.env` file.

### Google

ðŸ“„ [NextAuth Google Provider Docs](https://next-auth.js.org/providers/google)

| Configuration      | Value                                         |
| ------------------ | --------------------------------------------- |
| Required Variables | `GOOGLE_CLIENT_ID`<br/>`GOOGLE_CLIENT_SECRET` |
| OAuth Redirect URL | `/api/auth/callback/google`                   |

Set `NEXTAUTH_PROVIDER` to `google` in your `.env` file.

### GitHub

ðŸ“„ [NextAuth GitHub Provider Docs](https://next-auth.js.org/providers/github)

| Configuration          | Value                                         |
| ---------------------- | --------------------------------------------- |
| Required ENV Variables | `GITHUB_CLIENT_ID`<br/>`GITHUB_CLIENT_SECRET` |
| OAuth Redirect URL     | `/api/auth/callback/github`                   |

Set `NEXTAUTH_PROVIDER` to `github` in your `.env` file.

### GitLab

ðŸ“„ [NextAuth GitLab Provider Docs](https://next-auth.js.org/providers/gitlab)

| Configuration          | Value                                                                                    |
| ---------------------- | ---------------------------------------------------------------------------------------- |
| Required ENV Variables | `GITLAB_CLIENT_ID`<br/>`GITLAB_CLIENT_SECRET`                                            |
| OAuth Redirect URL     | `/api/auth/callback/gitlab`                                                              |

Set `NEXTAUTH_PROVIDER` to `gitlab` in your `.env` file.

### On-Premises Domain Configuration

If you want to ensure only a single organization is created for on-premises deployments, you can
configure the `Organization` table to map email domains to their corresponding organizations and SSO providers:

```sql
UPDATE "Organization"
SET "ssoDomain" = 'yourcompany.com',
    "ssoProvider" = 'azure-ad'
WHERE id = 'your-organization-id';
```

**Configuration Parameters:**

- **`ssoDomain`**: The email domain for your organization (e.g., `yourcompany.com`)
- **`ssoProvider`**: The SSO provider name matching your `NEXTAUTH_PROVIDER` value (e.g., `azure-ad`, `okta`, `auth0`)

This configuration ensures that:
- New users with matching email domains are automatically assigned to the correct organization
- Users don't need an explicit invite to join their organization
- Multi-tenant deployments can support multiple organizations with different domains

## 2. Managed Service (app.langwatch.ai)

If you want to use SSO with our Cloud version, contact our team with the required variables in hand for the following providers:

### Azure AD / Entra ID

ðŸ“„ [Azure AD Docs](https://docs.microsoft.com/en-us/azure/active-directory/develop/quickstart-register-app)

| Configuration      | Value                                                                                       |
| ------------------ | ------------------------------------------------------------------------------------------- |
| Required Variables | `AZURE_AD_CLIENT_ID`<br />`AZURE_AD_CLIENT_SECRET`<br />`AZURE_AD_TENANT_ID` |
| Redirect URL       | `https://langwatch.eu.auth0.com/login/callback`                                             |

### Google Workspace

ðŸ“„ [Google Docs](https://auth0.com/docs/authenticate/identity-providers/enterprise-identity-providers/google-apps)

| Configuration      | Value                                                    |
| ------------------ | -------------------------------------------------------- |
| Required Variables | `GOOGLE_CLIENT_ID`<br />`GOOGLE_CLIENT_SECRET` |
| Redirect URL       | `https://langwatch.eu.auth0.com/login/callback`          |

### Okta

ðŸ“„ [Okta Docs](https://developer.okta.com/docs/reference/api/oidc)

| Configuration      | Value                                                                        |
| ------------------ | ---------------------------------------------------------------------------- |
| Required Variables | `OKTA_CLIENT_ID`<br />`OKTA_CLIENT_SECRET`<br />`OKTA_ISSUER` |
| Redirect URL       | `https://langwatch.eu.auth0.com/login/callback`                              |

## Contact Us

Once you have all these details, please contact us so we can set them up from our side.

If you use a different provider other than the ones listed above, contact us to check availability for a new implementation.

---

## Migrating from Email/Password Authentication

For security reasons, users are not automatically linked between email address and SSO provider, they can only link it themselves when already signed in.

If you're then transitioning from a previous LangWatch setup that used email/password authentication to SSO, you'll need to enable automatic account linking to prevent "email already exists" errors and ensure a smooth migration for your existing users.

### Migration Steps

<Steps>
<Step title="Enable SSO configuration">
  Configure your chosen SSO provider following the instructions in the sections above, including setting all required environment variables and `NEXTAUTH_PROVIDER`.
</Step>

<Step title="Update database for existing users">
  Run the following SQL command on your LangWatch database to enable automatic account linking:

  ```sql
  UPDATE "User"
  SET "pendingSsoSetup" = true;
  ```

  This flags all existing user accounts to automatically link with their SSO provider when they next sign in.

  <Info>
  This is a **one-time operation** that only affects existing users. New users created after SSO is enabled will not need this flag.
  </Info>
</Step>

<Step title="Notify your users">
  Inform your users about the authentication method change. When they next attempt to sign in:

  - They should use the **SSO sign-in option** instead of email/password
  - Their existing account will be automatically linked to their SSO identity
  - All their projects, data, and permissions will remain intact

  <Check>
  Users will maintain access to all their existing resources after the migration.
  </Check>
</Step>
</Steps>

## Support

For any queries or issues, feel free to reach out to us. We are available via:

- **Email**: [support@langwatch.ai](mailto:support@langwatch.ai)
- **Slack**: Connect with us directly on Slack for real-time support and assistance.

---

We look forward to helping you set up LangWatch seamlessly and efficiently.
